import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.-FKaPJU3.js";import{a as y}from"./index.ngrFHoWO.js";import{$ as p}from"./store.B2KCumWl.js";import"./_commonjsHelpers.CqkleIqs.js";function C(r,c,l){let s=new Set(c).add(void 0);return r.listen((n,m,a)=>{s.has(a)&&l(n,m,a)})}let g=(r,c)=>l=>{r.current!==l&&(r.current=l,c())};function $(r,{keys:c,deps:l=[r,c]}={}){let s=d.useRef();s.current=r.get();let n=d.useCallback(a=>(g(s,a)(r.value),c?.length>0?C(r,c,g(s,a)):r.listen(g(s,a))),l),m=()=>s.current;return d.useSyncExternalStore(n,m,m)}const N=y.create({baseURL:"http://localhost:9090",headers:{Accept:"application/json","Content-Type":"application/json"}}),w=r=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r),I=()=>{const[r,c]=d.useState([]),[l,s]=d.useState(""),[n,m]=d.useState(""),[a,u]=d.useState(1),[h,j]=d.useState(0),f=$(p);function b(t){t.preventDefault(),s("please wait..."),N.get(`/take/products/search/${a}/${n}`).then(i=>{j(i.data.totpage),u(i.data.page),c(i.data.products),p.set(i.data.totalrecords)},i=>{i.response?s(i.response.data.message):s(i.message),setTimeout(()=>{c([]),s(""),p.set(0)},3e3)}),s("")}function x(t,i){N.get(`/take/products/search/${t}/${i}`).then(o=>{j(o.data.totpage),c(o.data.products),u(o.data.page),p.set(o.data.totalrecords)},o=>{o.response?s(o.response.data.message):s(o.message),setTimeout(()=>{c([]),s(""),p.set(0)},3e3)}),s("")}function v(){let t=a;t=1,u(t),x(t,n)}function k(){if(a===h)return;let t=a;t++,u(t),x(t,n)}function P(){if(a===1)return;let t=a;t--,u(t),x(t,n)}function S(){u(h),x(a,n)}return e.jsxs("div",{className:"container mb-9",children:[e.jsx("h2",{className:"text-dark",children:"Products Search"}),e.jsx("div",{className:"text-danger",children:l}),e.jsxs("form",{onSubmit:b,autoComplete:"off",children:[e.jsx("div",{className:"col-auto",children:e.jsx("input",{type:"text",required:!0,value:n,onChange:t=>m(t.target.value),className:"form-control-sm",placeholder:"enter Product keyword"})}),e.jsx("div",{className:"col-auto",children:e.jsx("button",{type:"submit",className:"btn btn-primary mt-2 btn-sm mb-3",children:"search"})})]}),e.jsxs("div",{className:"container mb-9",children:[e.jsxs("div",{className:"card-group",children:[r.map(t=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"card mx-3 mt-3 card-box",children:[e.jsx("img",{src:`http://localhost:9090/products/${t.productpicture}`,className:"card-img-top product-size",alt:""}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"Descriptions"}),e.jsx("p",{className:"card-text desc-h",children:t.descriptions})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("p",{className:"card-text text-danger",children:[e.jsx("span",{className:"text-dark",children:"PRICE :"})," ",e.jsxs("strong",{children:["₱",w(t.sellprice)]})]})})]})},t.id)),f>5?e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Page navigation example",children:e.jsxs("ul",{className:"pagination mt-3 mx-4",children:[e.jsx("li",{className:"page-item",children:e.jsx("button",{type:"button",onClick:S,className:"page-link",children:"Last"})}),e.jsx("li",{className:"page-item",children:e.jsx("button",{type:"button",onClick:P,className:"page-link",children:"Previous"})}),e.jsx("li",{className:"page-item",children:e.jsx("button",{type:"button",onClick:k,className:"page-link",children:"Next"})}),e.jsx("li",{className:"page-item",children:e.jsx("button",{type:"button",onClick:v,className:"page-link",children:"First"})}),e.jsxs("li",{className:"page-item page-link text-danger",children:["Page ",a," of ",h]})]})}),e.jsxs("div",{className:"text-white",children:["Total Records : ",f]})]}):null]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]})]})};export{I as default};
